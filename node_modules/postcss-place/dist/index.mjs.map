{"version":3,"file":"index.mjs","sources":["../src/options.js","../src/onCSSDeclaration.js","../src/index.js"],"sourcesContent":["export default {\n\t/** Whether to preserve the original place value. */\n\tpreserve: true\n}\n","import { parse } from 'postcss-values-parser'\nimport options from './options'\n\nexport default decl => {\n\t// alignment\n\tconst alignment = decl.prop.match(placeMatch)[1]\n\n\t// value ast and child nodes\n\tconst value = parse(decl.value)\n\tlet alignmentValues = []\n\tvalue.walkWords(walk => {\n\t\talignmentValues.push(\n\t\t\twalk.parent.type === 'root' ? walk.toString() : walk.parent.toString()\n\t\t)\n\t})\n\n\tdecl.cloneBefore({\n\t\tprop: `align-${alignment}`,\n\t\tvalue: alignmentValues[0]\n\t})\n\n\tdecl.cloneBefore({\n\t\tprop: `justify-${alignment}`,\n\t\tvalue: alignmentValues[1] || alignmentValues[0]\n\t})\n\n\t// conditionally remove place-[alignment]\n\tif (!options.preserve) {\n\t\tdecl.remove()\n\t}\n}\n\nexport const placeMatch = /^place-(content|items|self)/\n","import options from './options'\nimport onCSSDeclaration, { placeMatch } from './onCSSDeclaration'\n\nconst creator = opts => {\n\t// prepare options\n\tif ('preserve' in Object(opts)) options.preserve = Boolean(opts.preserve)\n\n\treturn {\n\t\tpostcssPlugin: 'postcss-place',\n\t\tDeclaration: (decl) => {\n\t\t\tif (placeMatch.test(decl)) {\n\t\t\t\tonCSSDeclaration(decl)\n\t\t\t}\n\t\t},\n\t}\n}\n\ncreator.postcss = true\n\nexport default creator\n"],"names":["preserve","decl","alignment","prop","match","placeMatch","value","parse","alignmentValues","walkWords","walk","push","parent","type","toString","cloneBefore","options","remove","creator","opts","Object","Boolean","postcssPlugin","Declaration","test","onCSSDeclaration","postcss"],"mappings":";;AAAA,cAAe;AACd;AACAA,EAAAA,QAAQ,EAAE;AAFI,CAAf;;ACGA,wBAAeC,IAAI,IAAI;AACtB;AACA,QAAMC,SAAS,GAAGD,IAAI,CAACE,IAAL,CAAUC,KAAV,CAAgBC,UAAhB,EAA4B,CAA5B,CAAlB,CAFsB;;AAKtB,QAAMC,KAAK,GAAGC,KAAK,CAACN,IAAI,CAACK,KAAN,CAAnB;AACA,MAAIE,eAAe,GAAG,EAAtB;AACAF,EAAAA,KAAK,CAACG,SAAN,CAAgBC,IAAI,IAAI;AACvBF,IAAAA,eAAe,CAACG,IAAhB,CACCD,IAAI,CAACE,MAAL,CAAYC,IAAZ,KAAqB,MAArB,GAA8BH,IAAI,CAACI,QAAL,EAA9B,GAAgDJ,IAAI,CAACE,MAAL,CAAYE,QAAZ,EADjD;AAGA,GAJD;AAMAb,EAAAA,IAAI,CAACc,WAAL,CAAiB;AAChBZ,IAAAA,IAAI,EAAG,SAAQD,SAAU,EADT;AAEhBI,IAAAA,KAAK,EAAEE,eAAe,CAAC,CAAD;AAFN,GAAjB;AAKAP,EAAAA,IAAI,CAACc,WAAL,CAAiB;AAChBZ,IAAAA,IAAI,EAAG,WAAUD,SAAU,EADX;AAEhBI,IAAAA,KAAK,EAAEE,eAAe,CAAC,CAAD,CAAf,IAAsBA,eAAe,CAAC,CAAD;AAF5B,GAAjB,EAlBsB;;AAwBtB,MAAI,CAACQ,OAAO,CAAChB,QAAb,EAAuB;AACtBC,IAAAA,IAAI,CAACgB,MAAL;AACA;AACD,CA3BD;AA6BO,MAAMZ,UAAU,GAAG,6BAAnB;;MC7BDa,OAAO,GAAGC,IAAI,IAAI;AACvB;AACA,MAAI,cAAcC,MAAM,CAACD,IAAD,CAAxB,EAAgCH,OAAO,CAAChB,QAAR,GAAmBqB,OAAO,CAACF,IAAI,CAACnB,QAAN,CAA1B;AAEhC,SAAO;AACNsB,IAAAA,aAAa,EAAE,eADT;AAENC,IAAAA,WAAW,EAAGtB,IAAD,IAAU;AACtB,UAAII,UAAU,CAACmB,IAAX,CAAgBvB,IAAhB,CAAJ,EAA2B;AAC1BwB,QAAAA,gBAAgB,CAACxB,IAAD,CAAhB;AACA;AACD;AANK,GAAP;AAQA;;AAEDiB,OAAO,CAACQ,OAAR,GAAkB,IAAlB;;;;"}